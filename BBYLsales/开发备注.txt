
 

 退货时要检查是不是退过@
 服装根类别必须是1，管理员ID也必须是1,这样不太通用，或是在删除根类的删除与修改功能

 库存表打印功能
 SQL过程做 归档功能,即将当前库存转为一次性进货并清空销售与调整表.可以以月或年为归档.归档内容转入归档表
  
  库存类型查找时的多级设置，可以用枚举子结点的方法来弄
  操作日志

  
  
   升级:
    1送鼠标,教按回车转到下一项
	2支出类型表添加新项,如提现,回款什么的
   3PEND表的备注允许为NULL
   4,建立盘点库存表:
   USE [sale]
GO

/****** Object:  Table [dbo].[F_STOCKSCOUNT]    Script Date: 03/04/2012 01:18:19 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[F_STOCKSCOUNT](
	[ID] [int] IDENTITY(1,1) NOT NULL,
	[货号] [nvarchar](50) NOT NULL,
	[颜色] [int] NOT NULL,
	[尺码] [int] NOT NULL,
	[类型] [int] NOT NULL,
	[品牌] [int] NOT NULL,
	[库存量] [int] NULL,
	[季节] [int] NULL,
	[已盘] [bit] NULL,
 CONSTRAINT [PK_F_STOCKSCOUNT] PRIMARY KEY CLUSTERED 
(
	[ID] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

ALTER TABLE [dbo].[F_STOCKSCOUNT]  WITH CHECK ADD  CONSTRAINT [FK_F_STOCKSCOUNT_F_CLASS] FOREIGN KEY([品牌])
REFERENCES [dbo].[F_CLASS] ([ID])
GO

ALTER TABLE [dbo].[F_STOCKSCOUNT] CHECK CONSTRAINT [FK_F_STOCKSCOUNT_F_CLASS]
GO

ALTER TABLE [dbo].[F_STOCKSCOUNT]  WITH CHECK ADD  CONSTRAINT [FK_F_STOCKSCOUNT_F_S_CLOTHTYPE] FOREIGN KEY([类型])
REFERENCES [dbo].[F_S_CLOTHTYPE] ([ID])
GO

ALTER TABLE [dbo].[F_STOCKSCOUNT] CHECK CONSTRAINT [FK_F_STOCKSCOUNT_F_S_CLOTHTYPE]
GO

ALTER TABLE [dbo].[F_STOCKSCOUNT]  WITH CHECK ADD  CONSTRAINT [FK_F_STOCKSCOUNT_F_S_COLOR] FOREIGN KEY([颜色])
REFERENCES [dbo].[F_S_COLOR] ([ID])
GO

ALTER TABLE [dbo].[F_STOCKSCOUNT] CHECK CONSTRAINT [FK_F_STOCKSCOUNT_F_S_COLOR]
GO

ALTER TABLE [dbo].[F_STOCKSCOUNT]  WITH CHECK ADD  CONSTRAINT [FK_F_STOCKSCOUNT_F_S_SEASON] FOREIGN KEY([季节])
REFERENCES [dbo].[F_S_SEASON] ([ID])
GO

ALTER TABLE [dbo].[F_STOCKSCOUNT] CHECK CONSTRAINT [FK_F_STOCKSCOUNT_F_S_SEASON]
GO

ALTER TABLE [dbo].[F_STOCKSCOUNT]  WITH CHECK ADD  CONSTRAINT [FK_F_STOCKSCOUNT_F_S_SIZE] FOREIGN KEY([尺码])
REFERENCES [dbo].[F_S_SIZE] ([id])
GO

ALTER TABLE [dbo].[F_STOCKSCOUNT] CHECK CONSTRAINT [FK_F_STOCKSCOUNT_F_S_SIZE]
GO


